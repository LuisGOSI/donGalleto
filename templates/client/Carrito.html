{% extends '/client/baseCliente/baseCliente.html' %}
{% block content %}
<nav class="breadcrumb">
    <a href="{{url_for('home')}}">INICIO</a>
    <span class="separator"><i class="fas fa-chevron-right"></i></span>
    <a href="{{url_for('cliente_dashboard')}}">PRODUCTOS</a>
    <span class="separator"><i class="fas fa-chevron-right"></i></span>
    <a href="{{url_for('carrito_dashboard')}}">CARRITO DE COMPRAS</a>
</nav>

<h1 class="title-client">Carrito de compras</h1>
    
<div class="order-container">
    <div class="order-table">
        <table>
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Total</th>
                    <th>Acci√≥n</th>
                </tr>
            </thead>
            <tbody>
                {% if carrito %}
                    {% for key, item in carrito.items() %}
                    <tr>
                        <td>{{ item["nombre"] }}</td>
                        <td>$ {{ "%.2f"|format(item["precio"]) }}</td>
                        <td>{{ item["cantidad"] }} {{ key.split("_")[-1] }}</td> <!-- Tipo de venta -->
                        <td>$ {{ "%.2f"|format(item["precio"] * item["cantidad"]) }}</td>
                        <td>
                            <form action="" method="POST">
                                <button class="delete-btn" type="submit">üóëÔ∏è</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="5">Tu carrito est√° vac√≠o.</td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    
    <div class="summary">
        <div class="summary-row">
            <div>{{ total_items }} art√≠culo(s)</div>
            <div>$ {{ "%.2f"|format(total_precio) }}</div>
        </div>
        <hr>
        <div class="summary-row">
            <div><strong>Total</strong></div>
            <div><strong>$ {{ "%.2f"|format(total_precio) }}</strong></div>
        </div>
        <form action="" method="POST">
            <button class="finalizar-btn" type="submit">Finalizar pedido</button>
        </form>
    </div>
</div>

{% endblock %}
